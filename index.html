<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>ZTERA ‚Äì TeraBox HD Video Player & Downloader (HD Online Player)</title>

<!-- ‚≠ê Favicon (uses uploaded file path) -->
<link rel="icon" type="image/png" href="/mnt/data/A_digital_vector_graphic_displays_a_stylized_%22Z%22_l.png" />

<meta name="description" content="ZTERA is the fastest TeraBox Video Player & Downloader. Play Terabox videos online in HD without ads. Generate direct download links instantly. Works on PC & Mobile.">
<meta name="keywords" content="ZTERA, Terabox Player, Terabox Downloader, Terabox Online Player, HD Terabox Player, Terabox Link Generator, Play Terabox Video">

<!-- PWA manifest -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#4F46E5">

<style>
  :root{
    --bg1:#eef3ff; 
    --bg2:#f8fbff;
    --text:#0f172a;
  }
  body{
    margin:0;
    font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
    color:var(--text);
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
  }
  .wrap{
    max-width:980px;
    margin:30px auto;
    padding:16px;
  }
  .hero{text-align:center;}
  h1{
    font-size:40px;
    margin:8px 0;
    color:#3248f5;
    font-weight:800;
  }
  p.lead{
    color:#6f7280;
    margin:0 0 20px;
    font-size:17px;
  }
  .card{
    background:#fff;
    padding:22px;
    border-radius:20px;
    border:1px solid #e7e9ff;
    box-shadow:0 12px 26px rgba(0,0,0,.08);
  }
  .row{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
  }
  .row input{
    flex:1;
    padding:14px 16px;
    font-size:16px;
    border-radius:14px;
    border:1px solid #d7d9ef;
    background:#f8f9ff;
  }

  .btn{
    padding:14px 26px;
    border:0;
    border-radius:16px;
    font-size:18px;
    font-weight:700;
    color:white;
    cursor:pointer;
    background:linear-gradient(135deg,#6d28d9,#4f46e5,#7c3aed);
    display:inline-block;
    margin:0 auto;
  }

  .neonPulse{
    animation:neonPulseAnim 1.8s infinite ease-in-out;
    box-shadow:
      0 0 14px rgba(124,58,237,.8),
      0 0 28px rgba(79,70,229,.6);
  }

  @keyframes neonPulseAnim{
    0%{ transform:scale(1); }
    50%{ transform:scale(1.08); }
    100%{ transform:scale(1); }
  }

  .section{
    margin-top:40px;
    background:white;
    padding:20px 24px;
    border-radius:20px;
    border:1px solid #e5e7ff;
    box-shadow:0 6px 18px rgba(0,0,0,0.07);
  }

  .section h2{
    color:#3248f5;
    margin-bottom:10px;
  }

  ul li{margin:8px 0;}

  a.internal{
    color:#3248f5;
    font-weight:600;
    text-decoration:none;
  }

  /* Small A2HS (install) banner */
  .install-banner{
    position:fixed;
    left:16px;
    right:16px;
    bottom:18px;
    display:flex;
    align-items:center;
    gap:12px;
    background:#fff;
    padding:12px 14px;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,0.12);
    border:1px solid rgba(79,70,229,0.06);
    z-index:9999;
    max-width:760px;
    margin:0 auto;
  }
  .install-banner .icon{
    width:56px;height:56px;border-radius:10px;background:#4F46E5;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:22px;
  }
  .install-banner .text{flex:1;font-weight:600;}
  .install-banner .actions{display:flex;gap:8px;}
  .install-banner button{padding:8px 12px;border-radius:10px;border:0;font-weight:700;cursor:pointer;}
  .btn-install{background:#4F46E5;color:white;}
  .btn-dismiss{background:#f0f2ff;color:#4F46E5;}
  .hidden{display:none !important;}
</style>
</head>

<body>
<div class="wrap">

  <header class="hero">
    <h1>ZTERA ‚Äì TeraBox HD Video <span style="color:#1F2BF5">Player</span></h1>
    <p class="lead">Play and Download Terabox Videos Without Ads ‚Äì Fast, Secure & HD Quality</p>
  </header>

  <section class="card">
    <div class="row">
      <input id="tbxUrl" type="url" placeholder="Enter TeraBox link here‚Ä¶">
    </div>

    <div style="text-align:center; margin-top:18px;">
      <button id="openPopup" class="btn neonPulse">‚ñ∂ Open Video</button>
    </div>

    <!-- note removed (per your earlier request to remove invalid url handling from note) -->
  </section>

  <!-- ‚≠ê SEO CONTENT SECTION -->
  <section class="section">
    <h2>What is ZTERA?</h2>
    <p>
      ZTERA is the fastest online <b>TeraBox Video Player</b> and <b>TeraBox Downloader</b>. 
      You can paste any Terabox video link and instantly watch the video in HD without ads.
    </p>

    <h2>Why ZTERA is Better?</h2>
    <ul>
      <li>No ads while watching videos</li>
      <li>Fast video loading (1‚Äì2 seconds)</li>
      <li>Auto-detect Terabox links</li>
      <li>Works on all devices ‚Äì Android, iPhone, PC</li>
      <li>Direct download button for faster file saving</li>
    </ul>

    <h2>Useful ZTERA Tools</h2>
    <ul>
      <li><a href="player.html" class="internal">‚ñ∂ ZTERA Terabox Video Player</a></li>
      <li><a href="downloader.html" class="internal">‚¨á ZTERA Terabox Downloader</a></li>
      <li><a href="blog.html" class="internal">üìö ZTERA Blog ‚Äì Tips & Guides</a></li>
    </ul>

    <h2>How to Play Terabox Video Online?</h2>
    <ol>
      <li>Open ZTERA Homepage</li>
      <li>Paste your Terabox video link</li>
      <li>Click ‚ÄúOpen Video‚Äù</li>
      <li>Enjoy HD video playback</li>
    </ol>

    <h2>FAQs (Google Ranking Support)</h2>
    <p><b>Is ZTERA safe?</b> ‚Äî Yes, 100% safe, no login required.</p>
    <p><b>Does ZTERA support HD?</b> ‚Äî Yes, supports 360p to 1080p.</p>
    <p><b>Can I download Terabox videos?</b> ‚Äî Yes, use the ZTERA Downloader.</p>
  </section>

</div>

<!-- Install banner (hidden by default) -->
<div id="installBanner" class="install-banner hidden" aria-hidden="true">
  <div class="icon">Z</div>
  <div class="text">
    Install ZTERA ‚Äî Fast TeraBox Player on your device
  </div>
  <div class="actions">
    <button id="btnInstall" class="btn-install">Install</button>
    <button id="btnDismiss" class="btn-dismiss">Maybe later</button>
  </div>
</div>

<script>
/* mirrors + normalize (unchanged) */
const mirrors = [
  "1024tera.com","1024terabox.com","nephobox.com",
  "gibibox.com","4funbox.com","teraboxurl.com",
  "teraboxlink.com","teraboxapp.com","teraboxcdn.com"
];

function normalize(link){
  mirrors.forEach(m=>{ link = link.replace(m,"terabox.com"); });
  return link;
}

function autoDetect(text){
  const mirrorsPattern = mirrors.join("|").replace(/\./g,"\\.");
  const regex = new RegExp(
    `(https?:\\/\\/(?:www\\.)?(?:${mirrorsPattern}|terabox\\.com)\\/s\\/[^\\s]+)`,
    "i"
  );
  const match = text.match(regex);
  return match ? match[1] : "";
}

const input = document.getElementById('tbxUrl');
input.addEventListener("input", ()=>{
  const detected = autoDetect(input.value);
  if(detected){ input.value = normalize(detected); }
});

const openBtn = document.getElementById('openPopup');

/* Simple open logic (unchanged) */
function openCentered(url,w=1050,h=720){
  const isMobile = window.innerWidth<540 || /Mobi|Android/i.test(navigator.userAgent);
  if(isMobile){ return window.open(url,"_blank","noopener"); }
  const left = window.screenX + (window.outerWidth - w)/2;
  const top  = window.screenY + (window.outerHeight - h)/2;
  const opts = `width=${w},height=${h},left=${left},top=${top},resizable=yes,scrollbars=yes`;
  return window.open(url,"_blank",opts);
}

openBtn.addEventListener("click",()=>{
  let url = input.value.trim();
  if(url.length<10){
    alert("‚ö† Please enter a valid TeraBox URL");
    return;
  }
  url = normalize(url);
  if(!url.startsWith("http")){ url = "https://" + url; }
  const final =
    "https://iteraplay.com/api/play.php?url=" +
    encodeURIComponent(url) + "&key=iTeraPlay2025";
  const win = openCentered(final);
  if(!win){ alert("‚ö† Popup blocked. Allow popups."); }
});

/* -------------------------
   PWA: beforeinstallprompt logic
   - Save deferredPrompt
   - Show custom banner only if not dismissed recently
   - If user dismisses, store timestamp and hide for 3 days
------------------------- */
let deferredPrompt = null;
const banner = document.getElementById('installBanner');
const btnInstall = document.getElementById('btnInstall');
const btnDismiss = document.getElementById('btnDismiss');
const INSTALL_DISMISS_KEY = 'ztera_install_dismiss_at';

// Helper: check if dismissed within last N days
function wasDismissedWithin(days){
  const ts = localStorage.getItem(INSTALL_DISMISS_KEY);
  if(!ts) return false;
  const then = parseInt(ts,10);
  const ms = days * 24 * 60 * 60 * 1000;
  return (Date.now() - then) < ms;
}

window.addEventListener('beforeinstallprompt', (e) => {
  // prevent default mini-infobar
  e.preventDefault();
  deferredPrompt = e;
  // show banner only if not recently dismissed
  if(!wasDismissedWithin(3)){
    banner.classList.remove('hidden');
    banner.setAttribute('aria-hidden','false');
  }
});

btnInstall.addEventListener('click', async () => {
  if(!deferredPrompt) return;
  // Show native prompt
  deferredPrompt.prompt();
  const { outcome } = await deferredPrompt.userChoice;
  if(outcome === 'accepted'){
    // user accepted
    banner.classList.add('hidden');
    banner.setAttribute('aria-hidden','true');
    localStorage.removeItem(INSTALL_DISMISS_KEY);
  } else {
    // user dismissed native prompt - don't show for 3 days
    localStorage.setItem(INSTALL_DISMISS_KEY, Date.now().toString());
    banner.classList.add('hidden');
    banner.setAttribute('aria-hidden','true');
  }
  deferredPrompt = null;
});

btnDismiss.addEventListener('click', () => {
  localStorage.setItem(INSTALL_DISMISS_KEY, Date.now().toString());
  banner.classList.add('hidden');
  banner.setAttribute('aria-hidden','true');
});

/* Detect appinstalled - hide banner */
window.addEventListener('appinstalled', () => {
  banner.classList.add('hidden');
  banner.setAttribute('aria-hidden','true');
  localStorage.removeItem(INSTALL_DISMISS_KEY);
});

/* -------------------------
   Service worker registration
   - Simple caching for offline and faster loads
------------------------- */
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('/sw.js').catch((err)=>{ console.warn('SW register failed',err); });
}
</script>

</body>
</html>
